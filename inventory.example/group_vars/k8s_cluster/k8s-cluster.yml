# Example inventory group_vars/k8s_cluster/k8s-cluster.yml
# Copy this to inventory/cluster/group_vars/k8s_cluster/k8s-cluster.yml

# Kubernetes version (should match .env KUBERNETES_VERSION)
kube_version: 1.32.0

# CNI: Calico
kube_network_plugin: calico
calico_version: "3.30.5"
calico_ipip_mode: "Never"
calico_vxlan_mode: "Always"
calico_network_backend: "vxlan"

# kube-proxy mode: iptables (NOT ipvs)
kube_proxy_mode: iptables

# API server configuration
kube_apiserver_ip: "{{ kube_vip_vip }}"
kube_apiserver_port: 6443

# Disable unnecessary addons for minimal resource usage
dashboard_enabled: false
helm_enabled: false
local_volume_provisioner_enabled: false
metrics_server_enabled: true  # Keep for basic monitoring
nodelocaldns_enabled: false
ingress_nginx_enabled: false
ingress_publish_service: ""

# Resource limits for small nodes (1 CPU, 2GB RAM)
kubelet_max_pods: 50
kubelet_pods_cgroup: "/kubepods"
